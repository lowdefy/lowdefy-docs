id: menu
type: page_sider_menu
public: true
properties:
  title: Menu
actions:
  onInit:
    - id: initialize_state 
      type: set()
      params:
        block:
          properties:
            links:
              - id: page_1
                type: menu_link
                pageId: page_1
                properties:
                  title: Page 1
                  $icon: FlagOutlined
              - id: page_2
                type: menu_link
                pageId: page_2
                properties:
                  title: Page 2
                  $icon: FileOutlined
              - id: page_3
                type: menu_group
                properties:
                  title: Group 3
                  $icon: RocketOutlined
                links:
                  - id: page_3_1
                    type: menu_link
                    pageId: page_3_1
                    properties:
                      title: Page 3.1
                  - id: page_3_2
                    type: menu_link
                    pageId: page_3_2
                    properties:
                      title: Page 3.2
                  - id: page_3_3
                    type: menu_link
                    pageId: page_3_3
                    properties:
                      title: Page 3.3
              - id: page_4
                type: menu_link
                pageId: page_4
                properties:
                  title: Page 4
                  $icon: UserOutlined
blocks:
  _ref:
    path: blocks/template.yaml
    vars:
      block_name: Menu
      description_content: |
        A menu block used to display page links.
      block_type: menu
      label: false
      kind: display
      css_transform:
        _parse:
          _state: css_block_input
      css_form:
        - id: css_block_input
          type: text_area_input
          css:
            --span: 11
            sm:
              --span: 11
            $label:
              --span: 2
          defaultValue: "{}"
          properties:
            title: block
            rows: 3
            size: small
            $label:
              extra: CSS Object style properties. Should be in JSON format.
      properties_transform:
        _state: block.properties
      properties_form:
        - id: block.properties.mode
          type: radio_button_input
          defaultValue: vertical
          css:
            $label:
              --span: 2
          properties:
            size: small
            $label:
              extra: Type of menu to render
            options:
              - vertical
              - horizontal
              - inline
        - id: block.properties.theme
          type: radio_button_input
          defaultValue: dark
          css:
            $label:
              --span: 2
          properties:
            size: small
            $label:
              extra: Color theme of menu
            options:
              - dark
              - light
        - id: block.properties.selectable
          type: switch_input
          defaultValue: true
          css:
            $label:
              --span: 2
          properties:
            size: small
            $label:
              extra: Allows selecting menu items
        - id: block.properties.selectedKeys
          type: multiple_select_input
          css:
            $label:
              --span: 2
          properties:
            size: small
            $label:
              extra: Array with the keys of currently selected menu items
            options:
              - page_1
              - page_2
              - page_3_1
              - page_3_2
              - page_3_3
              - page_4
              - page_5
        - id: block.properties.subMenuCloseDelay
          type: number_input
          css:
            $label:
              --span: 2
          properties:
            size: small
            $label:
              extra: Delay time to hide submenu when mouse leaves (in seconds)
        - id: block.properties.subMenuOpenDelay
          type: number_input
          css:
            $label:
              --span: 2
          properties:
            size: small
            $label:
              extra: Delay time to show submenu when mouse enters (in seconds)
        - id: block.properties.links
          type: list
          properties:
            title: 'links:'
            size: small
          blocks:
            - id: block.properties.links.$.id
              type: text_input
              defaultValue: id_i
              css:
                $label:
                  --span: 2
              properties:
                title: id
                size: small
                $label:
                  extra: Menu item id
            - id: block.properties.links.$.type
              type: radio_button_input
              defaultValue: menu_link
              css:
                $label:
                  --span: 2
              properties:
                title: type
                size: small
                $label:
                  extra: Menu item type
                options:
                  - menu_link
                  - menu_group
            - id: block.properties.links.$.pageId
              type: text_input
              visible:
                _eq:
                  - _state: block.properties.links.$.type
                  - menu_link
              css:
                $label:
                  --span: 2
              properties:
                title: pageId
                size: small
                $label:
                  extra: Page to link to
            - id: block.properties.links.$.properties
              type: card
              properties:
                size: small
                title: 'properties:'
              blocks:
                - id: block.properties.links.$.properties.title
                  type: text_input
                  css:
                    $label:
                      --span: 2
                  properties:
                    title: 'title:'
                    $label:
                      extra: Menu item title
                - id: block.properties.links.$.properties.collapsed
                  type: switch_input
                  defaultValue: true
                  css:
                    $label:
                      --span: 2
                  properties:
                    title: 'collapsed:'
                    $label:
                      extra: Collapse the menu item
                - id: block.properties.links.$.properties.icon
                  type: select_input
                  visible:
                    _eq:
                      - _state: block.properties.links.$.type
                      - menu_group
                  css:
                    $label:
                      --span: 2
                  properties:
                    showSearch: true
                    allowClear: true
                    title: 'icon:'
                    options:
                      _global: all_icons
                    $label:
                      extra: Menu item icon
            - id: block.properties.links.$.links
              type: list
              visible:
                _eq:
                  - _state: block.properties.links.$.type
                  - menu_group
              properties:
                title: 'links:'
              blocks:
                - id: block.properties.links.$.links.$.id
                  type: text_input
                  defaultValue: id_k
                  css:
                    $label:
                      --span: 2
                  properties:
                    title: id
                    size: small
                    $label:
                      extra: Sub-menu item id
                - id: block.properties.links.$.links.$.type
                  type: radio_button_input
                  defaultValue: menu_link
                  css:
                    $label:
                      --span: 2
                  properties:
                    title: type
                    size: small
                    $label:
                      extra: Menu item type
                    options:
                      - menu_link
                - id: block.properties.links.$.links.$.pageId
                  type: text_input
                  css:
                    $label:
                      --span: 2
                  properties:
                    title: pageId
                    size: small
                    $label:
                      extra: Page to link to
                - id: block.properties.links.$.links.$.properties
                  type: card
                  properties:
                    size: small
                    title: 'properties:'
                  blocks:
                    - id: block.properties.links.$.links.$.properties.title
                      type: text_input
                      css:
                        $label:
                          --span: 2
                      properties:
                        title: 'title:'
                        $label:
                          extra: Menu item title

      available_actions_description: |
        ###### No available actions.


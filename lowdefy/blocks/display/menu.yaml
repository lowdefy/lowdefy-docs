id: menu
type: PageSiderMenu
public: true
properties:
  title: Menu
actions:
  onInit:
    - id: initialize_state 
      type: setState()
      params:
        block:
          properties:
            links:
              - id: page_1
                type: MenuLink
                pageId: page_1
                properties:
                  title: Page 1
                  Icon: FlagOutlined
              - id: page_2
                type: MenuLink
                pageId: page_2
                properties:
                  title: Page 2
                  Icon: FileOutlined
              - id: page_3
                type: MenuGroup
                properties:
                  title: Group 3
                  Icon: RocketOutlined
                links:
                  - id: page_3_1
                    type: MenuLink
                    pageId: page_3_1
                    properties:
                      title: Page 3.1
                  - id: page_3_2
                    type: MenuLink
                    pageId: page_3_2
                    properties:
                      title: Page 3.2
                  - id: page_3_3
                    type: MenuLink
                    pageId: page_3_3
                    properties:
                      title: Page 3.3
              - id: page_4
                type: MenuLink
                pageId: page_4
                properties:
                  title: Page 4
                  Icon: UserOutlined
blocks:
  _ref:
    path: blocks/template.yaml
    vars:
      block_name: Menu
      description_content: |
        A menu block used to display page links.
      block_type: Menu
      label: false
      kind: display
      style_transform:
        _parse:
          _state: style_block_input
      style_form:
        - id: style_block_input
          type: TextArea
          style:
            _global: settings_input_style
          defaultValue: "{}"
          properties:
            title: block
            rows: 3
            size: small
            Label:
              extra: CSS Object style properties. Should be in JSON format.
      properties_transform:
        _state: block.properties
      properties_form:
        - id: block.properties.mode
          type: ButtonSelector
          defaultValue: vertical
          style:
            _global: settings_input_style
          properties:
            title: mode
            size: small
            Label:
              extra: Type of menu to render.
            options:
              - vertical
              - horizontal
              - inline
        - id: block.properties.selectable
          type: Switch
          defaultValue: true
          style:
            _global: settings_input_style
          properties:
            title: selectable
            size: small
            Label:
              extra: Allows selecting menu items.
        - id: block.properties.selectedKeys
          type: MultipleSelector
          style:
            _global: settings_input_style
          properties:
            title: selectedKeys
            size: small
            Label:
              extra: Array with the keys of currently selected menu items.
            options:
              - page_1
              - page_2
              - page_3_1
              - page_3_2
              - page_3_3
              - page_4
              - page_5
        - id: block.properties.subMenuCloseDelay
          type: NumberInput
          style:
            _global: settings_input_style
          properties:
            title: subMenuCloseDelay
            size: small
            Label:
              extra: Delay time to hide submenu when mouse leaves (in seconds).
        - id: block.properties.subMenuOpenDelay
          type: NumberInput
          style:
            _global: settings_input_style
          properties:
            title: subMenuOpenDelay
            size: small
            Label:
              extra: Delay time to show submenu when mouse enters (in seconds).
        - id: block.properties.theme
          type: ButtonSelector
          defaultValue: dark
          style:
            _global: settings_input_style
          properties:
            title: theme
            size: small
            Label:
              extra: Color theme of menu.
            options:
              - dark
              - light
        - id: block.properties.links
          type: List
          properties:
            title: 'links:'
            size: small
          blocks:
            - id: block.properties.links.$.id
              type: TextInput
              defaultValue: id_i
              style:
                _global: settings_input_style
              properties:
                title: id
                size: small
                Label:
                  extra: Menu item id.
            - id: block.properties.links.$.type
              type: ButtonSelector
              defaultValue: MenuLink
              style:
                _global: settings_input_style
              properties:
                title: type
                size: small
                Label:
                  extra: Menu item type.
                options:
                  - MenuLink
                  - MenuGroup
            - id: block.properties.links.$.pageId
              type: TextInput
              visible:
                _eq:
                  - _state: block.properties.links.$.type
                  - MenuLink
              style:
                _global: settings_input_style
              properties:
                title: pageId
                size: small
                Label:
                  extra: Page to link to.
            - id: block.properties.links.$.properties
              type: Card
              properties:
                size: small
                title: 'properties:'
              blocks:
                - id: block.properties.links.$.properties.title
                  type: TextInput
                  style:
                    _global: settings_input_style
                  properties:
                    title: title
                    Label:
                      extra: Menu item title.
                - id: block.properties.links.$.properties.collapsed
                  type: Switch
                  defaultValue: true
                  style:
                    _global: settings_input_style
                  properties:
                    title: collapsed
                    Label:
                      extra: Collapse the menu item.
                - id: block.properties.links.$.properties.icon
                  type: Selector
                  visible:
                    _eq:
                      - _state: block.properties.links.$.type
                      - MenuGroup
                  style:
                    _global: settings_input_style
                  properties:
                    showSearch: true
                    allowClear: true
                    title: icon
                    options:
                      _global: all_icons
                    Label:
                      extra: Menu item icon.
            - id: block.properties.links.$.links
              type: List
              visible:
                _eq:
                  - _state: block.properties.links.$.type
                  - MenuGroup
              properties:
                title: 'links:'
              blocks:
                - id: block.properties.links.$.links.$.id
                  type: TextInput
                  defaultValue: id_k
                  style:
                    _global: settings_input_style
                  properties:
                    title: id
                    size: small
                    Label:
                      extra: Sub-menu item id.
                - id: block.properties.links.$.links.$.type
                  type: ButtonSelector
                  defaultValue: MenuLink
                  style:
                    _global: settings_input_style
                  properties:
                    title: type
                    size: small
                    Label:
                      extra: Menu item type.
                    options:
                      - MenuLink
                - id: block.properties.links.$.links.$.pageId
                  type: TextInput
                  style:
                    _global: settings_input_style
                  properties:
                    title: pageId
                    size: small
                    Label:
                      extra: Page to link to.
                - id: block.properties.links.$.links.$.properties
                  type: Card
                  properties:
                    size: small
                    title: 'properties:'
                  blocks:
                    - id: block.properties.links.$.links.$.properties.title
                      type: TextInput
                      style:
                        _global: settings_input_style
                      properties:
                        title: title
                        Label:
                          extra: Menu item title.

      available_actions_description: |
        ###### No available actions.


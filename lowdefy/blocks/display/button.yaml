id: button
type: page_sider_menu
public: true
properties:
  title: Button
blocks:
  _ref:
    path: blocks/template.yaml
    vars:
      block_name: Button
      description_content: |
        Button block.
      block_type: button
      label: false
      kind: display
      css_transform:
        _get:
          key: "0"
          on:
            _mql_aggregate:
              pipeline:
                - $addFields:
                    $icon:
                      _parse:
                        _state: css_icon_input
              on:
                _parse:
                  _state: css_block_input
      css_form:
        - id: css_block_input
          type: text_area_input
          css:
            --span: 11
            sm:
              --span: 11
            $label:
              --span: 2
          defaultValue: "{}"
          properties:
            title: block
            rows: 3
            size: small
            $label:
              extra: CSS Object style properties. Should be in JSON format.
        - id: css_icon_input
          type: text_area_input
          css:
            --span: 11
            sm:
              --span: 11
            $label:
              --span: 3
          defaultValue: "{}"
          properties:
            title: $icon
            rows: 3
            size: small
            $label:
              extra: CSS Object style properties. Should be in JSON format.
      properties_transform:
        _state: block.properties
      properties_form:
        - id: block.properties.title
          type: text_input
          defaultValue: block_id
          css:
            $label:
              --span: 2
          properties:
            title: title
            size: small
            $label:
              extra: Title to describe the input component, if no title is specified the block id is displayed.
        - id: block.properties.block
          type: switch_input
          defaultValue: false
          css:
            $label:
              --span: 2
          properties:
            title: block
            size: small
            $label:
              extra: Fit the button's span to its parent container span.
        - id: block.properties.disabled
          type: switch_input
          defaultValue: false
          css:
            $label:
              --span: 2
          properties:
            title: disabled
            size: small
            $label:
              extra: Disable the button if true.
        - id: block.properties.ghost
          type: switch_input
          defaultValue: false
          css:
            $label:
              --span: 2
          properties:
            title: ghost
            size: small
            $label:
              extra: Make the button's background transparent when true.
        - id: block.properties.hideActionLoading
          type: switch_input
          defaultValue: false
          css:
            $label:
              --span: 2
          properties:
            title: hideActionLoading
            size: small
            $label:
              extra: Hide the loading message when an action is in progress. Useful when using the button as a link to a new page.
        - id: block.properties.hideTitle
          type: switch_input
          defaultValue: false
          css:
            $label:
              --span: 2
          properties:
            title: hideTitle
            size: small
            $label:
              extra: Hide the buttons title.
        - id: block.properties.href
          type: text_input
          css:
            $label:
              --span: 2
          properties:
            title: href
            size: small
            $label:
              extra: The URL to redirect to when the button is clicked. Useful when used with a type link button.
        - _ref:
            path: blocks/icon_template.yaml
            vars:
              icon_id: block.properties.$icon
              icon_field_name: $icon
              icon_description: Icon to be used in button.
        - id: block.properties.shape
          type: radio_button_input
          defaultValue: square
          css:
            $label:
              --span: 2
          properties:
            title: shape
            size: small
            $label:
              extra: Shape of the button.
            options:
              - circle
              - round
              - square
        - id: block.properties.size
          type: radio_button_input
          defaultValue: default
          css:
            $label:
              --span: 2
          properties:
            title: size
            size: small
            $label:
              extra: Size of the button.
            options:
              - small
              - default
              - large
        - id: block.properties.type
          type: radio_button_input
          defaultValue: primary
          css:
            $label:
              --span: 2
          properties:
            title: type
            size: small
            $label:
              extra: The button type.
            options:
              - primary
              - default
              - dashed
              - danger
              - link

      available_actions_description: |
        ###### onClick
        Triggered when the button is clicked.

      examples:
        - id: example_1_card
          type: card
          blocks:
            - id: example_1_block_grid
              type: grid
              css:
                --span: 6
              blocks:
                - id: example_1_title
                  type: markdown
                  properties:
                    content: |
                      ##### Basic button
                - id: example_1
                  type: button
                  properties:
                    title: Click here
            - id: example_1_code_grid
              type: grid
              css:
                --span: 6
              blocks:
                - id: example_1_code
                  type: markdown
                  properties:
                    content: |
                      ```json
                      {
                        "id": "example_1",
                        "type": "button",
                        "properties": {
                          "title": "Click here"
                        }
                      }
                      ```
        - id: example_2_card
          type: card
          blocks:
            - id: example_2_block_grid
              type: grid
              css:
                --span: 6
              blocks:
                - id: example_2_title
                  type: markdown
                  properties:
                    content: |
                      ##### Block and ghost button with icon
                - id: example_2
                  type: button
                  properties:
                    title: Let's Go
                    block: true
                    ghost: true
                    $icon: RocketOutlined
            - id: example_2_code_grid
              type: grid
              css:
                --span: 6
              blocks:
                - id: example_2_code
                  type: markdown
                  properties:
                    content: |
                      ```json
                      {
                        "id": "example_2",
                        "type": "button",
                        "properties": {
                          "title": "Let's Go",
                          "block": true,
                          "ghost": true,
                          "$icon": "RocketOutlined"
                        }
                      }
                      ```
        - id: example_3_card
          type: card
          blocks:
            - id: example_3_block_grid
              type: grid
              css:
                --span: 6
              blocks:
                - id: example_3_title
                  type: markdown
                  properties:
                    content: |
                      ##### Round and type danger
                - id: example_3
                  type: button
                  properties:
                    title: Delete Forever
                    block: false
                    $icon: WarningFilled
                    shape: round
                    type: danger
            - id: example_3_code_grid
              type: grid
              css:
                --span: 6
              blocks:
                - id: example_3_code
                  type: markdown
                  properties:
                    content: |
                      ```json
                      {
                        "id": "example_3",
                        "type": "button",
                        "properties": {
                          "title": "Delete Forever",
                          "block": false,
                          "$icon": "WarningFilled",
                          "shape": "round",
                          "type": "danger"
                        }
                      }
                      ```

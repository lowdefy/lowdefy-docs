id: anchor
type: page_sider_menu
public: true
properties:
  title: Anchor
blocks:
  _ref:
    path: blocks/template.yaml
    vars:
      block_name: Anchor
      description_content: |
        Anchor block. Creates a clickable icon and/ or text.
      block_type: anchor
      label: false
      properties_transform:
        _state: block.properties
      properties_form:
        - id: block.properties.title
          type: text_input
          defaultValue: block_id
          properties:
            title: title
            size: small
            label:
              extra: Title to describe the input component, if no title is specified the lowdefy_path_name is displayed.
              span: 2
        - id: block.properties.disabled
          type: switch_input
          defaultValue: false
          properties:
            title: disabled
            size: small
            label:
              extra: Disable the anchor if true.
              span: 2
        - id: block.properties.icon
          type: text_input
          properties:
            title: icon
            size: small
            label:
              extra: Ant Icon to show on the anchor.
              span: 2
        - id: block.properties.iconTheme
          type: radio_button_input
          defaultValue: outlined
          properties:
            title: iconTheme
            size: small
            label:
              extra: The theme variant of the icon.
              span: 2
            options:
              - filled
              - outlined
              - twoTone
        - id: block.properties.iconTwoToneColor
          type: text_input
          visible:
            _mql_test:
              block.properties.iconTheme: twoTone
          properties:
            title: iconTwoToneColor
            size: small
            label:
              extra: Primary color of the twoTone icon.
              span: 3
        - id: iconStyle_input
          type: text_area_input
          defaultValue: "{}"
          box:
            span: 11
          properties:
            title: iconStyle
            rows: 5
            size: small
            label:
              extra: Icon CSS style properties. Should be in JSON format.
              span: 2
        - id: apply_iconStyle_button
          type: button
          box:
            span: 1
          properties:
            title: ""
            block: false
            shape: circle
            icon: reload
            type: primary
          actions:
            onClick:
              - set():
                  block.properties.iconStyle:
                    _parse:
                      _state: iconStyle_input
        - id: block.properties.strong
          type: switch_input
          defaultValue: false
          properties:
            title: strong
            size: small
            label:
              extra: Makes the text bold when true.
              span: 2
        - id: style_input
          type: text_area_input
          defaultValue: "{}"
          box:
            span: 11
          properties:
            title: style
            rows: 5
            size: small
            label:
              extra: CSS style properties. Should be in JSON format.
              span: 2
        - id: apply_style_button
          type: button
          box:
            span: 1
          properties:
            title: ""
            block: false
            shape: circle
            icon: reload
            type: primary
          actions:
            onClick:
              - set():
                  block.properties.style:
                    _parse:
                      _state: style_input

      available_actions_description: |
        ###### onClick
        Triggered when the anchor is clicked.

      examples:
        - id: example_1_card
          type: card
          blocks:
            - id: example_1_block_grid
              type: grid
              box:
                span: 6
              blocks:
                - id: example_1_title
                  type: markdown
                  properties:
                    content: |
                      ##### Basic anchor
                - id: example_1
                  type: anchor
                  properties:
                    title: Click here
            - id: example_1_code_grid
              type: grid
              box:
                span: 6
              blocks:
                - id: example_1_code
                  type: markdown
                  properties:
                    content: |
                      ```json
                      {
                        "id": "example_1",
                        "type": "anchor",
                        "properties": {
                          "title": "Click here"
                        }
                      }
                      ```
        - id: example_2_card
          type: card
          blocks:
            - id: example_2_block_grid
              type: grid
              box:
                span: 6
              blocks:
                - id: example_2_title
                  type: markdown
                  properties:
                    content: |
                      ##### Bold text
                - id: example_2
                  type: anchor
                  box:
                    span: 6
                  properties:
                    title: Click here
                    strong: true
            - id: example_2_code_grid
              type: grid
              box:
                span: 6
              blocks:
                - id: example_2_code
                  type: markdown
                  properties:
                    content: |
                      ```json
                      {
                        "id": "example_2",
                        "type": "anchor",
                        "properties": {
                          "title": "Click here"
                          "strong": true
                        }
                      }
                      ```
        - id: example_3_card
          type: card
          blocks:
            - id: example_3_block_grid
              type: grid
              box:
                span: 6
              blocks:
                - id: example_3_title
                  type: markdown
                  properties:
                    content: |
                      ##### Custom text and icon style
                - id: example_3
                  type: anchor
                  box:
                    span: 6
                  properties:
                    title: Click here
                    icon: fire
                    style:
                      color: red
                      font-size: 18
            - id: example_3_code_grid
              type: grid
              box:
                span: 6
              blocks:
                - id: example_3_code
                  type: markdown
                  properties:
                    content: |
                      ```json
                      {
                        "id": "example_3",
                        "type": "anchor",
                        "properties": {
                          "title": "Click here"
                          "icon": "fire",
                          "iconTheme": "twoTone",
                          "iconTwoToneColor": "red",
                          "style": {
                            "color": "red",
                            "font-size": 18
                          }
                        }
                      }
                      ```
        - id: example_4_card
          type: card
          blocks:
            - id: example_4_block_grid
              type: grid
              box:
                span: 6
              blocks:
                - id: example_4_title
                  type: markdown
                  properties:
                    content: |
                      ##### Style text and icon separately
                - id: example_4
                  type: anchor
                  box:
                    span: 6
                  properties:
                    title: Click here
                    icon: fire
                    iconTheme: filled
                    iconStyle:
                      color: orange
                      font-size: 30
                    style:
                      color: "#000000"
                      font-size: 16
            - id: example_4_code_grid
              type: grid
              box:
                span: 6
              blocks:
                - id: example_4_code
                  type: markdown
                  properties:
                    content: |
                      ```json
                      {
                        "id": "example_4",
                        "type": "anchor",
                        "properties": {
                          "title": "Click here"
                          "icon": "fire",
                          "iconTheme": "filled",
                          "iconStyle": {
                            "color": "orange",
                            "font-size": 30
                          },
                          "style": {
                            "color": "#000000",
                            "font-size": 16
                          }
                        }
                      }
                      ```

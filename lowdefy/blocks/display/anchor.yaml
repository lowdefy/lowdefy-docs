id: anchor
type: page_sider_menu
public: true
properties:
  title: Anchor
blocks:
  _ref:
    path: blocks/template.yaml
    vars:
      block_name: Anchor
      description_content: |
        Anchor block. Creates a clickable icon and/ or text.
      block_type: anchor
      label: false
      kind: display
      css_transform:
        _get:
          key: "0"
          on:
            _mql_aggregate:
              pipeline:
                - $addFields:
                    Icon:
                      _parse:
                        _state: css_icon_input
              on:
                _parse:
                  _state: css_block_input
      css_form:
        - id: css_block_input
          type: text_area_input
          css:
            --span: 11
            sm:
              --span: 11
            Label:
              --span: 2
          defaultValue: "{}"
          properties:
            title: block
            rows: 3
            size: small
            Label:
              extra: CSS Object style properties. Should be in JSON format.
        - id: css_icon_input
          type: text_area_input
          css:
            --span: 11
            sm:
              --span: 11
            Label:
              --span: 3
          defaultValue: "{}"
          properties:
            title: Icon
            rows: 3
            size: small
            Label:
              extra: CSS Object style properties. Should be in JSON format.
      properties_transform:
        _state: block.properties
      properties_form:
        - id: block.properties.title
          type: text_input
          defaultValue: block_id
          css:
            Label:
              --span: 2
          properties:
            title: title
            size: small
            Label:
              extra: Title to describe the input component, if no title is specified the block id is displayed.
        - id: block.properties.disabled
          type: switch_input
          defaultValue: false
          css:
            Label:
              --span: 2
          properties:
            title: disabled
            size: small
            Label:
              extra: Disable the anchor if true.
        - _ref:
            path: blocks/icon_template.yaml
            vars:
              icon_id: block.properties.Icon
              icon_field_name: Icon
              default_icon: FireOutlined
              icon_description: Icon to prefix anchor.

        - id: block.properties.strong
          type: switch_input
          defaultValue: false
          css:
            Label:
              --span: 2
          properties:
            title: strong
            size: small
            Label:
              extra: Makes the text bold when true.

      available_actions_description: |
        ###### onClick
        Triggered when the anchor is clicked.

      examples:
        - id: example_1_card
          type: card
          blocks:
            - id: example_1_block_grid
              type: box
              css:
                --span: 6
              blocks:
                - id: example_1_title
                  type: markdown
                  properties:
                    content: |
                      ##### Basic anchor
                - id: example_1
                  type: anchor
                  properties:
                    title: Click here
            - id: example_1_code_grid
              type: box
              css:
                --span: 6
              blocks:
                - id: example_1_code
                  type: markdown
                  properties:
                    content: |
                      ```json
                      {
                        "id": "example_1",
                        "type": "anchor",
                        "properties": {
                          "title": "Click here"
                        }
                      }
                      ```
        - id: example_2_card
          type: card
          blocks:
            - id: example_2_block_grid
              type: box
              css:
                --span: 6
              blocks:
                - id: example_2_title
                  type: markdown
                  properties:
                    content: |
                      ##### Bold text and icon
                - id: example_2
                  type: anchor
                  css:
                    --span: 6
                  properties:
                    title: Click here
                    strong: true
                    Icon: LinkOutlined
            - id: example_2_code_grid
              type: box
              css:
                --span: 6
              blocks:
                - id: example_2_code
                  type: markdown
                  properties:
                    content: |
                      ```json
                      {
                        "id": "example_2",
                        "type": "anchor",
                        "properties": {
                          "title": "Click here",
                          "strong": true,
                          "Icon": "LinkOutlined"
                        }
                      }
                      ```
        - id: example_3_card
          type: card
          blocks:
            - id: example_3_block_grid
              type: box
              css:
                --span: 6
              blocks:
                - id: example_3_title
                  type: markdown
                  properties:
                    content: |
                      ##### Custom text and icon style
                - id: example_3
                  type: anchor
                  css:
                    fontSize: 18
                    color: 'red !important'
                  properties:
                    title: Click here
                    Icon: 
                      twoToneColor: 'red'
                      name: RocketTwoTone
            - id: example_3_code_grid
              type: box
              css:
                --span: 6
              blocks:
                - id: example_3_code
                  type: markdown
                  properties:
                    content: |
                      ```json
                      {
                        "id": "example_3",
                        "type": "anchor",
                        "css": {
                          "color": "red !important",
                          "fontSize": 18
                        },
                        "properties": {
                          "title": "Click here",
                          "Icon": {
                            "twoToneColor": "red",
                            "name": "RocketTwoTone"
                          }
                        }
                      }
                      ```
        - id: example_4_card
          type: card
          blocks:
            - id: example_4_block_grid
              type: box
              css:
                --span: 6
              blocks:
                - id: example_4_title
                  type: markdown
                  properties:
                    content: |
                      ##### Style text and icon separately
                - id: example_4
                  type: anchor
                  css:
                    color: "#000000 !important"
                    fontSize: 16
                    Icon:
                      color: orange
                      fontSize: 30
                  properties:
                    title: Click here
                    Icon: 
                      name: FireFilled
            - id: example_4_code_grid
              type: box
              css:
                --span: 6
              blocks:
                - id: example_4_code
                  type: markdown
                  properties:
                    content: |
                      ```json
                      {
                        "id": "example_4",
                        "type": "anchor",
                        "css": {
                          "--span": 6,
                          "color": "#000000 !important",
                          "fontSize": 16
                          "Icon": {
                            "color": "orange",
                            "fontSize": 30
                          }
                        },
                        "properties": {
                          "title": "Click here",
                          "Icon": {
                            "name": "FireFilled"
                          }
                        }
                      }
                      ```

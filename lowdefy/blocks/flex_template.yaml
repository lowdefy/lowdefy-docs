- id: card_title
  type: card
  blocks:
    - id: title
      type: title
      properties:
        level: 2
        content:
          _var: block_name
    - id: description
      type: markdown
      properties:
        content:
          _var: description_content

- id: c1
  type: grid
  css:
    --span: 6
  blocks:
    - id: block_divider
      type: divider
      properties:
        title: Block
    - id: block_wrap2
      type: grid
      css:
        --span: 12
      blocks:
        - id: block_name
          type:
            _var: block_type
          css:
            _state: block.css
          visible:
            _state: block.visible
          properties:
            _state: block.properties
          blocks:
            - id: subblock_1
              type: button
              properties:
                title: "1"
              visible:
                _state: visible_subblock_1
              css:
                flex:
                  _state: flex_subblock_1
            - id: subblock_2
              type: button
              properties:
                title: "2"
              visible:
                _state: visible_subblock_2
              css:
                flex:
                  _state: flex_subblock_2
            - id: subblock_3
              type: button
              properties:
                title: "3"
              visible:
                _state: visible_subblock_3
              css:
                flex:
                  _state: flex_subblock_3
            - id: subblock_4
              type: button
              properties:
                title: "4"
              visible:
                _state: visible_subblock_4
              css:
                flex:
                  _state: flex_subblock_4
            - id: subblock_5
              type: button
              properties:
                title: "5"
              visible:
                _state: visible_subblock_5
              css:
                flex:
                  _state: flex_subblock_5
            - id: subblock_6
              type: button
              properties:
                title: "6"
              visible:
                _state: visible_subblock_6
              css:
                flex:
                  _state: flex_subblock_6
    - id: state_divider
      type: divider
      visible:
        _eq:
          - _var:
              kind
          - input
      properties:
        title: State
    - id: state_card
      type: card
      properties: 
        size: small
      visible:
        _eq:
          - _var:
              kind
          - input
      blocks:
        - id: state_markdown
          type: markdown
          properties:
            content:
              _nunjucks:
                template: |
                  ```json
                  {
                    "block_id": {{ value | safe }}
                  }
                  ```
                on:
                  value:
                    _stringify:
                      _state: block_id
    - id: setup_divider
      type: divider
      properties:
        title: Block Setup
    - id: setup_card
      type: card
      properties: 
        size: small
      blocks:
        - id: setup_markdown
          type: markdown
          properties:
            content:
              _nunjucks:
                template: |
                  ```json
                  {{ value | safe }}
                  ```
                on:
                  value:
                    _stringify:
                      id: block_id
                      type:
                        _var: block_type
                      visible:
                        _state: block.visible
                      css:
                        _state: block.css
                      properties:
                        _state: block.properties

- id: settings_grid
  type: grid
  css:
    --span: 6
  blocks:
    - id: settings_divider
      type: divider
      properties:
        title: Settings
    - id: block_collapse
      type: collapse
      properties:
        defaultActiveKey: properties
        panels:
          - key: css
            title: 'css:'
          - key: properties
            title: 'properties:'
          - key: actions
            title: 'actions:'
          - key: visible
            title: 'visible:'
      blocks:
        css:
          - id: css_form
            type: grid
            css:
              $content:
                --gap: 0
            blocks:
              _var: css_form
        visible:
          - id: block.visible
            type: switch_input
            defaultValue: true
            properties:
              title: visible
              $label:
                extra: Toggle if block is visible and has a value in state.
                inline: true
              size: small

        properties:
          - id: properties_form
            type: grid
            css:
              $content:
                --gap: 0
            blocks:
              _var: properties_form
          - id: label_form
            type: grid
            visible:
              _var: label
            blocks:
              _ref: blocks/label.yaml
        actions:
          - id: available_actions_description
            type: markdown
            properties:
              content:
                _var: available_actions_description

- id: subblocks_card
  type: card
  properties:
    size: small
    title: Sub-blocks
  blocks:
    - id: flex_subblock_1
      type: number_input
      css:
        --span: 2
      properties:
        title: Block 1 Flex
        size: small
    - id: visible_subblock_1
      type: switch_input
      css:
        --span: 2
      properties:
        title: Block 1 Visible
        size: small
    - id: flex_subblock_2
      type: number_input
      css:
        --span: 2
      properties:
        title: Block 2 Flex
        size: small
    - id: visible_subblock_2
      type: switch_input
      css:
        --span: 2
      properties:
        title: Block 2 Visible
        size: small
    - id: flex_subblock_3
      type: number_input
      css:
        --span: 2
      properties:
        size: small
        title: Block 3 Flex
    - id: visible_subblock_3
      type: switch_input
      css:
        --span: 2
      properties:
        title: Block 3 Visible
        size: small
    - id: flex_subblock_4
      type: number_input
      css:
        --span: 2
      properties:
        title: Block 4 Flex
        size: small
    - id: visible_subblock_4
      type: switch_input
      css:
        --span: 2
      properties:
        title: Block 4 Visible
        size: small
    - id: flex_subblock_5
      type: number_input
      css:
        --span: 2
      properties:
        title: Block 5 Flex
        size: small
    - id: visible_subblock_5
      type: switch_input
      css:
        --span: 2
      properties:
        title: Block 5 Visible
        size: small
    - id: flex_subblock_6
      type: number_input
      css:
        --span: 2
      properties:
        title: Block 6 Flex
        size: small
    - id: visible_subblock_6
      type: switch_input
      css:
        --span: 2
      properties:
        size: small
        title: Block 6 Visible
        
- id: examples_divider
  type: divider
  properties:
    title: Examples
- id: examples_grid
  type: grid
  blocks:
    _var: examples

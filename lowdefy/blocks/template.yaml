- id: card_display
  type: card
  blocks:
    - id: title
      type: title
      properties:
        level: 2
        content:
          _var: block_name
    - id: description
      type: markdown
      properties:
        content:
          _var: description_content
- id: c1
  type: box
  style:
    --span: 6
  blocks:
    - id: block_divider
      type: divider
      properties:
        title: Block
    - id: block_grid
      type: box
      blocks:
        - id: block_id
          type:
            _var: block_type
          style:
            _var: style_transform
          visible:
            _state: block.visible
          required:
            _state: block.required
          properties:
            _var: properties_transform
    - id: state_divider
      type: divider
      properties:
        title: State
      visible:
        _eq:
          - _var:
              kind
          - input
    - id: state_card
      type: card
      properties: 
        size: small
      visible:
        _eq:
          - _var:
              kind
          - input
      blocks:
        - id: state_markdown
          type: markdown
          properties:
            content:
              _nunjucks:
                template: |
                  ```json
                  {
                    "block_id": {{ value | safe }}
                  }
                  ```
                on:
                  value:
                    _stringify:
                      _state: block_id
    - id: setup_divider
      type: divider
      properties:
        title: Block Setup
    - id: setup_card
      type: card
      properties: 
        size: small
      blocks:
        - id: setup_markdown
          type: markdown
          properties:
            content:
              _nunjucks:
                template: |
                  ```json
                  {{ value | safe }}
                  ```
                on:
                  value:
                    _stringify:
                      id: block_id
                      type:
                        _var: block_type
                      style:
                        _var: style_transform
                      visible:
                        _state: block.visible
                      properties:
                        _state: block.properties
- id: settings_grid
  type: box
  style:
    --span: 6
  blocks:
    - id: settings_divider
      type: divider
      properties:
        title: Settings
    - id: block_collapse
      type: collapse
      properties:
        defaultActiveKey: properties
        panels:
          - key: style
            title: 'style:'
          - key: properties
            title: 'properties:'
          - key: actions
            title: 'actions:'
          - key: required
            title: 'required:'
          - key: visible
            title: 'visible:'
      blocks:
        style:
          - id: style_form
            type: box
            style:
              Content:
                --gap: 0
            blocks:
              _var: style_form
        visible:
          - id: block.visible
            type: switch_input
            defaultValue: true
            properties:
              title: visible
              Label:
                extra: Toggle if block is visible and has a value in state.
                inline: true
              size: small
        required:
          - id: block.required
            type: switch_input
            defaultValue: false
            properties:
              title: required
              Label:
                extra: Toggle if the field is indicated as compulsory and required when the validate() action is called.
                inline: true
              size: small
        
        properties:
          - id: properties_form
            type: box
            style:
              Content:
                --gap: 0
            blocks:
              _var: properties_form
          - id: label_form
            type: box
            visible:
              _var: label
            blocks:
              _ref: blocks/label.yaml
        actions:
          - id: available_actions_description
            type: markdown
            properties:
              content:
                _var: available_actions_description
          
- id: examples_divider
  type: divider
  properties:
    title: Examples
- id: examples_grid
  type: box
  blocks:
    _var: examples

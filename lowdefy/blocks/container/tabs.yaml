id: tabs
type: page_sider_menu
public: true
properties:
  title: Tabs
actions:
  onInit:
    - id: initialize_state 
      type: set()
      params:
        span_subblock_1: 12
        visible_subblock_1: true
        span_subblock_2: 6
        visible_subblock_2: true
        span_subblock_3: 6
        visible_subblock_3: true
        span_subblock_4: 12
        visible_subblock_4: true
        span_subblock_5: 4
        visible_subblock_5: true
        span_subblock_6: 8
        visible_subblock_6: true
        block:
          properties:
            tabs:
              - key: content1
                title: content1
              - key: content2
          title: content2

blocks:
  _ref:
    path: blocks/grid_template_block_object.yaml
    vars:
      block_name: Tabs
      description_content: |
        A tabs container.
      block_type: tabs
      label: false
      kind: container
      css_transform:
        _get:
          key: "0"
          on:
            _mql_aggregate:
              pipeline:
                - $addFields:
                    $content1:
                      _parse:
                        _state: css_content1_input
                    $content2:
                      _parse:
                        _state: css_content2_input
              on:
                _parse:
                  _state: css_block_input
      css_form:
        - id: css_block_input
          type: text_area_input
          css:
            --span: 11
            sm:
              --span: 11
            $label:
              --span: 2
          defaultValue: "{}"
          properties:
            title: block
            rows: 3
            size: small
            $label:
              extra: CSS Object style properties. Should be in JSON format.
        - id: css_content1_input
          type: text_area_input
          css:
            --span: 11
            sm:
              --span: 11
            $label:
              --span: 2
          defaultValue: "{}"
          properties:
            title: $content1
            rows: 3
            size: small
            $label:
              extra: CSS Object style properties. Should be in JSON format.
        - id: css_content2_input
          type: text_area_input
          css:
            --span: 11
            sm:
              --span: 11
            $label:
              --span: 2
          defaultValue: "{}"
          properties:
            title: $content2
            rows: 3
            size: small
            $label:
              extra: CSS Object style properties. Should be in JSON format.
      properties_form:
        - id: activeKey
          type: text_input
          css:
            $label:
              --span: 2
          properties:
            title: activeKey
            size: small
            $label:
              extra: Current TabPane's key.
        - id: defaultActiveKey
          type: text_input
          defaultValue: content1
          css:
            $label:
              --span: 3
          properties:
            title: defaultActiveKey
            size: small
            $label:
              extra: Initial active TabPane's key, if activeKey is not set.
        - id: animated
          type: switch_input
          defaultValue: true
          css:
            $label:
              --span: 2
          properties:
            title: animated
            size: small
            $label:
              extra: Whether to change tabs with animation. Only works while tabPosition is top or bottom.
        - id: block.properties.size
          type: radio_button_input
          defaultValue: default
          css:
            $label:
              --span: 2
          properties:
            title: size
            size: small
            $label:
              extra: Size of the tabs.
            options:
              - small
              - default
              - large
        - id: block.properties.tabPosition
          type: radio_button_input
          defaultValue: top
          css:
            $label:
              --span: 2
          properties:
            title: tabPosition
            size: small
            $label:
              extra: Position of the tabs.
            options:
              - top
              - right
              - bottom
              - left
        - id: block.properties.tabs
          type: list
          properties:
            title: 'tabs:'
            size: small
          blocks:
            - id: block.properties.tabs.$.title
              type: text_input
              defaultValue: title
              css:
                $label:
                  --span: 2
              properties:
                title: title
                size: small
                $label:
                  extra: Title of the tab.
            - id: block.properties.tabs.$.key
              type: text_input
              defaultValue: key
              css:
                $label:
                  --span: 2
              properties:
                title: key
                size: small
                $label:
                  extra: Key of the tab.
            - _ref:
                path: blocks/icon_template.yaml
                vars:
                  icon_id: block.properties.tabs.$.$icon
                  icon_field_name: $icon
                  icon_description: Icon to show in tab title.
            - id: block.properties.tabs.$.disabled
              type: switch_input
              defaultValue: false
              css:
                $label:
                  --span: 2
              properties:
                title: disabled
                size: small
                $label:
                  extra: Disable the tab if true.
        - id: block.properties.tabType
          type: radio_button_input
          defaultValue: line
          css:
            $label:
              --span: 2
          properties:
            title: tabType
            size: small
            $label:
              extra: Type of tabs.
            options:
              - line
              - card
              - editable-card

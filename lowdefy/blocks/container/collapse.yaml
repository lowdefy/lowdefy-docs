id: collapse
type: page_sider_menu
public: true
properties:
  title: Collapse
actions:
  onInit:
    - id: initialize_state 
      type: set()
      params:
        span_subblock_1: 12
        visible_subblock_1: true
        span_subblock_2: 6
        visible_subblock_2: true
        span_subblock_3: 6
        visible_subblock_3: true
        span_subblock_4: 12
        visible_subblock_4: true
        span_subblock_5: 4
        visible_subblock_5: true
        span_subblock_6: 8
        visible_subblock_6: true
        block:
          properties:
            panels:
              - key: content1
                title: Title 1
              - key: content2
                title: Title 2

blocks:
  _ref:
    path: blocks/gird_template_block_object.yaml
    vars:
      block_name: Collapse
      description_content: |
        A container with collapsible panels.
      block_type: collapse
      label: false
      kind: container
      properties_form:
        - id: block.properties.accordion
          type: switch_input
          defaultValue: false
          css:
            $label:
              --span: 2
          properties:
            title: accordion
            size: small
            $label:
              extra: If true, only one panel is open at a time.
        - id: block.properties.activeKey
          type: text_input
          css:
            $label:
              --span: 2
          properties:
            title: activeKey
            size: small
            $label:
              extra: Current Panel's key.
        - id: block.properties.bordered
          type: switch_input
          defaultValue: true
          css:
            $label:
              --span: 2
          properties:
            title: bordered
            size: small
            $label:
              extra: Toggles rendering of the border around the collapse block.
        - id: block.properties.defaultActiveKey
          type: text_input
          defaultValue: content1
          css:
            $label:
              --span: 2
          properties:
            title: defaultActiveKey
            size: small
            $label:
              extra: Initial active Panel's key, if activeKey is not set.
        - id: block.properties.destroyInactivePanel
          type: switch_input
          defaultValue: false
          css:
            $label:
              --span: 2
          properties:
            title: destroyInactivePanel
            size: small
            $label:
              extra: Destroy Inactive Panel.
        - _ref:
            path: blocks/icon_template.yaml
            vars:
              icon_id: block.properties.$expand_icon
              icon_field_name: $expand_icon
              default_icon: RightOutlined
              icon_description: Icon to show as expand option.
        - id: block.properties.expandIconPosition
          type: radio_button_input
          defaultValue: left
          css:
            $label:
              --span: 2
          properties:
            title: expandIconPosition
            size: small
            $label:
              extra: Set position of expand icon.
            options:
              - left
              - right
        - id: block.properties.forceRender
          type: switch_input
          defaultValue: false
          css:
            $label:
              --span: 2
          properties:
            title: forceRender
            size: small
            $label:
              extra: Force render for all panels.
        - id: block.properties.panels
          type: list
          properties:
            title: 'panels:'
            size: small
          blocks:
            - id: block.properties.panels.$.title
              type: text_input
              defaultValue: title
              css:
                $label:
                  --span: 2
              properties:
                title: title
                size: small
                $label:
                  extra: Title of the panel.
            - id: block.properties.panels.$.key
              type: text_input
              defaultValue: key
              css:
                $label:
                  --span: 2
              properties:
                title: key
                size: small
                $label:
                  extra: Key of the panel.
            - id: block.properties.panels.$.disabled
              type: switch_input
              defaultValue: false
              css:
                $label:
                  --span: 2
              properties:
                title: disabled
                size: small
                $label:
                  extra: Disable the panel if true.
        - id: block.properties.showArrow
          type: switch_input
          defaultValue: true
          css:
            $label:
              --span: 2
          properties:
            title: showArrow
            size: small
            $label:
              extra: Show expand icon.